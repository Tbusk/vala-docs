<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="author" title="About these documents" href="../../about.html" /><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="4. 🚦 Wrap Up Folks" href="04-00-wrap-up.html" /><link rel="prev" title="2. Structural Design Patterns" href="02-00-structural-design-patterns.html" />
        <link rel="prefetch" href="../../_static/logo.png" as="image" />

    <link rel="shortcut icon" href="../../_static/favicon.png"/><!-- Generated with Sphinx 6.2.0 and Furo 2025.07.19 -->
        <title>3. Behavioral Design Patterns - Vala Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=b8e80a79e6d5924b4912f2ce7997587f45ab5f99" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=c2381d17322d81725993bfddb61bde80003e8cc4" />
    <link rel="stylesheet" type="text/css" href="../../_static/gnome.css" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  --color-brand-primary: #A56DE2;
  --color-brand-content: #A56DE2;
  --font-stack: Cantarell, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #A56DE2;
  --color-brand-content: #A56DE2;
  --font-stack: Cantarell, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #A56DE2;
  --color-brand-content: #A56DE2;
  --font-stack: Cantarell, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;
  
      }
    }
  }
</style></head>
  <body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Vala Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>

      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>

        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/logo.png" alt="Logo"/>
  </div>

  
  <span class="sidebar-brand-text">Vala Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation-guide.html">Installation Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../tutorials/gui-programming.html">GUI Programming</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of GUI Programming</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../tutorials/gui-programming/gtk4-samples.html">GTK4 Samples</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of GTK4 Samples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/gui-programming/gtk4-samples/minimal-app.html">Minimal App</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/gui-programming/gtk4-samples/basic-app.html">Basic App</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/gui-programming/gtk4-samples/synchronising-widgets.html">Synchronising Widgets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/gui-programming/gtk4-samples/text-file-viewer.html">Text File Viewer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/gui-programming/gtk4-samples/list-view.html">ListView</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/gui-programming/gtk4-samples/list-view-check-buttons.html">ListView with CheckButtons</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/gui-programming/gtk4-samples/column-view.html">ColumnView</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/gui-programming/gtk4-samples/clipboard.html">Clipboard</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/gui-programming/gtk4-samples/entry-completion-two-cells.html">Entry Completion with Two Cells</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference external" href="https://developer.gnome.org/documentation/tutorials.html">GNOME Developer Documenation - Tutorials</a></li>
<li class="toctree-l3"><a class="reference external" href="https://docs.elementary.io/develop/writing-apps/the-basic-setup">elementary OS - Writing Apps</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../tutorials/programming-language.html">Programming Language</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Programming Language</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../tutorials/programming-language/main.html">Main Tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Main Tutorial</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/programming-language/main/01-00-first-program.html">1. First Program</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../tutorials/programming-language/main/02-00-basics.html">2. Basics</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 2. Basics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/02-00-basics/02-01-source-files-and-compilation.html">2.1. Source Files and Compilation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/02-00-basics/02-02-syntax-overview.html">2.2. Syntax Overview</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/02-00-basics/02-03-comments.html">2.3. Comments</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/02-00-basics/02-04-data-types.html">2.4. Data Types</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/02-00-basics/02-05-operators.html">2.5. Operators</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/02-00-basics/02-06-control-structures.html">2.6. Control Structures</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/02-00-basics/02-07-language-elements.html">2.7. Language Elements</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/02-00-basics/02-08-code-attributes.html">2.8. Code Attributes</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming.html">3. Object Oriented Programming</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of 3. Object Oriented Programming</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-01-basics.html">3.1. Basics</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-02-construction.html">3.2. Construction</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-03-destruction.html">3.3. Destruction</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-04-signals.html">3.4. Signals</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-05-properties.html">3.5. Properties</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-06-inheritance.html">3.6. Inheritance</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-07-abstract-classes.html">3.7. Abstract Classes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-08-interfaces.html">3.8. Interfaces</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-09-polymorphism.html">3.9. Polymorphism</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-10-method-hiding.html">3.10. Method Hiding</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-11-run-time-type-information.html">3.11. Run-Time Type Information</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-12-dynamic-type-casting.html">3.12. Dynamic Type Casting</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-13-generics.html">3.13. Generics</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/03-00-object-oriented-programming/03-14-gobject-style-construction.html">3.14. GObject-Style Construction</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features.html">4. Advanced Features</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 4. Advanced Features</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-01-assertions-and-contract-programming.html">4.1. Assertions and Contract Programming</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-02-error-handling.html">4.2. Error Handling</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-03-parameter-directions.html">4.3. Parameter Directions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-04-collections.html">4.4. Collections</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-05-methods-with-syntax-support.html">4.5. Methods With Syntax Support</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-06-multi-threading.html">4.6. Multi-Threading</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-07-the-main-loop.html">4.7. The Main Loop</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-08-asynchronous-methods.html">4.8. Asynchronous Methods</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-09-weak-references.html">4.9. Weak References</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-10-ownership.html">4.10. Ownership</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-11-variable-length-argument-lists.html">4.11. Variable-Length Argument Lists</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-12-pointers.html">4.12. Pointers</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-13-non-object-classes.html">4.13. Non-Object classes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-14-d-bus-integration.html">4.14. D-Bus Integration</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/04-00-advanced-features/04-15-profiles.html">4.15. Profiles</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../tutorials/programming-language/main/05-00-experimental-features.html">5. Experimental Features</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 5. Experimental Features</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/05-00-experimental-features/05-01-chained-relational-expressions.html">5.1. Chained Relational Expressions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/05-00-experimental-features/05-02-regular-expression-literals.html">5.2. Regular Expression Literals</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/05-00-experimental-features/05-03-strict-non-null-mode.html">5.3. Strict Non-Null Mode</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../tutorials/programming-language/main/06-00-libraries.html">6. Libraries</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 6. Libraries</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/06-00-libraries/06-01-using-libraries.html">6.1. Using Libraries</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/06-00-libraries/06-02-creating-a-library.html">6.2. Creating a Library</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/06-00-libraries/06-03-binding-libraries-with-vapi-files.html">6.3. Binding Libraries with VAPI Files</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/06-00-libraries/06-04-abi-and-api-design-choices.html">6.4. ABI and API Design Choices</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/06-00-libraries/06-05-binding-to-vala-libraries-from-other-languages.html">6.5. Binding to Vala Libraries from Other Languages</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/06-00-libraries/06-06-using-autotools.html">6.6. Using Autotools</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../tutorials/programming-language/main/07-00-tools.html">7. Tools</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of 7. Tools</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/07-00-tools/07-01-valac.html">7.1. valac</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/07-00-tools/07-02-valadoc.html">7.2. valadoc</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/07-00-tools/07-03-vapigen.html">7.3. vapigen</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/07-00-tools/07-04-vala-gen-introspect.html">7.4. vala-gen-introspect</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../tutorials/programming-language/main/08-00-techniques.html">8. Techniques</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of 8. Techniques</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/08-00-techniques/08-01-debugging.html">8.1. Debugging</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../tutorials/programming-language/main/08-00-techniques/08-02-using-glib.html">8.2. Using GLib</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tooling/index.html">Tooling</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Tooling</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tooling/build-systems.html">Build Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tooling/code-editors-and-ides.html">Code Editors and IDEs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tooling/language-server-protocol-support.html">Language Server Protocol Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tooling/other-tools.html">Other Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tooling/syntax-support.html">Syntax Support</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../contributor-guide/index.html">Contributor Guide</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Contributor Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../contributor-guide/compiler-guide.html">Compiler Guide</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Compiler Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributor-guide/compiler-guide/01-00-project-information.html">1. Project Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributor-guide/compiler-guide/02-00-environment-setup.html">2. Environment Setup</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../contributor-guide/compiler-guide/03-00-the-vala-compiler.html">3. The Vala Compiler</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of 3. The Vala Compiler</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../contributor-guide/compiler-guide/03-00-the-vala-compiler/03-01-vala-in-a-nutshell.html">3.1. Vala in a Nutshell</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributor-guide/compiler-guide/03-00-the-vala-compiler/03-02-parser.html">3.2. Parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributor-guide/compiler-guide/03-00-the-vala-compiler/03-03-semantic-analyzer.html">3.3. Semantic Analyzer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributor-guide/compiler-guide/03-00-the-vala-compiler/03-04-symbol-resolution.html">3.4. Symbol Resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributor-guide/compiler-guide/03-00-the-vala-compiler/03-05-flow-analyzer.html">3.5. Flow Analyzer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributor-guide/compiler-guide/03-00-the-vala-compiler/03-06-c-code-generation.html">3.6. C Code Generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contributor-guide/compiler-guide/03-00-the-vala-compiler/03-07-c-code-compilation-and-linking.html">3.7. C Code Compilation and Linking</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../contributor-guide/compiler-guide/04-00-vala-bindings-vapi.html">4. Vala Bindings - VAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributor-guide/compiler-guide/05-00-internal-libgee.html">5. libgee Internal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributor-guide/compiler-guide/06-00-other-tools.html">6. Other Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributor-guide/compiler-guide/07-00-testing.html">7. Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributor-guide/compiler-guide/08-00-documentation.html">8. Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributor-guide/compiler-guide/09-00-build-system.html">9. Build System</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Developer Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Developer Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../bindings.html">Bindings</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Bindings</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../bindings/generating-a-vapi-with-gobject-introspection.html">Generating a VAPI with GObject Introspection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bindings/upstream-guide.html">Why Distribute Bindings Upstream</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../bindings/writing-a-vapi-manually.html">Writing a VAPI Manually</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of Writing a VAPI Manually</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../bindings/writing-a-vapi-manually/01-00-prerequisites.html">1. Prerequisites</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../bindings/writing-a-vapi-manually/02-00-getting-started.html">2. Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of 2. Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/02-00-getting-started/02-01-the-vapi-file.html">2.1. The VAPI File</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/02-00-getting-started/02-02-attribution-and-license.html">2.2. Attribution and License</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/02-00-getting-started/02-03-the-ccode-attribute.html">2.3. The CCode Attribute</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/02-00-getting-started/02-04-create-a-root-namespace.html">2.4. Create a Root Namespace</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/02-00-getting-started/02-05-include-the-c-header-files.html">2.5. Include the C Header Files</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/02-00-getting-started/02-06-symbol-name-translations.html">2.6. Symbol Name Translations</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/02-00-getting-started/02-07-code-formatting-conventions.html">2.7. Code Formatting Conventions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/02-00-getting-started/02-08-documentation-and-valadoc-org.html">2.8. Documentation and Valadoc.org</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/02-00-getting-started/02-09-the-version-attribute.html">2.9. The Version Attribute</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../bindings/writing-a-vapi-manually/03-00-using-auto-memory-management.html">3. Using Vala’s Automatic Memory Management</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of 3. Using Vala’s Automatic Memory Management</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/03-00-using-auto-memory-management/03-01-pointers-in-c.html">3.1. Pointers in C (or what all these *’s mean)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/03-00-using-auto-memory-management/03-02-constants-the-stack-and-the-heap-in-c.html">3.2. Constants, the Stack and the Heap in C</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/03-00-using-auto-memory-management/03-03-the-concept-of-ownership-in-vala.html">3.3. The Concept of “Ownership” in Vala</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/03-00-using-auto-memory-management/03-04-binding-to-c-heap-handnlers.html">3.4. Binding to C Heap Handlers</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../bindings/writing-a-vapi-manually/04-00-recognizing-vala-semantics-in-c-code.html">4. Recognizing Vala Semantics in C Code</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of 4. Recognizing Vala Semantics in C Code</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/04-00-recognizing-vala-semantics-in-c-code/04-01-constants.html">4.1. Constants</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/04-00-recognizing-vala-semantics-in-c-code/04-02-enums-and-flags.html">4.2. Enums and Flags</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/04-00-recognizing-vala-semantics-in-c-code/04-03-simple-type-structs.html">4.3. Simple Type Structs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/04-00-recognizing-vala-semantics-in-c-code/04-04-structs.html">4.4. Structs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/04-00-recognizing-vala-semantics-in-c-code/04-05-compact-classes.html">4.5. Compact Classes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/04-00-recognizing-vala-semantics-in-c-code/04-06-functions.html">4.6. Functions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/04-00-recognizing-vala-semantics-in-c-code/04-07-delegates.html">4.7. Delegates</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../bindings/writing-a-vapi-manually/05-00-fundamentals-of-binding-a-c-function.html">5. Fundamentals of Binding a C Function</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of 5. Fundamentals of Binding a C Function</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/05-00-fundamentals-of-binding-a-c-function/05-01-out-and-reference-parameters-and-return-values.html">5.1. Out and Reference Parameters and Return Values</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/05-00-fundamentals-of-binding-a-c-function/05-02-ownership.html">5.2. Ownership</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/05-00-fundamentals-of-binding-a-c-function/05-03-nullability.html">5.3. Nullability</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/05-00-fundamentals-of-binding-a-c-function/05-04-static-methods.html">5.4. Static Methods</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/05-00-fundamentals-of-binding-a-c-function/05-05-changing-the-position-of-generated-arguments.html">5.5. Changing the Position of Generated Arguments</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/05-00-fundamentals-of-binding-a-c-function/05-06-default-values-and-changing-an-argument-s-position.html">5.6. Default Values and Changing an Argument’s Position</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/05-00-fundamentals-of-binding-a-c-function/05-07-adapting-a-signature-with-a-vala-wrapper.html">5.7. Adapting a Signature with a Vala Wrapper</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/05-00-fundamentals-of-binding-a-c-function/05-08-variadic-arguments.html">5.8. Variadic Arguments (a.k.a. “…”)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/05-00-fundamentals-of-binding-a-c-function/05-09-functions-that-do-not-return.html">5.9. Functions That Do Not Return</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/05-00-fundamentals-of-binding-a-c-function/05-10-methods-that-change-the-instance-reference.html">5.10. Methods that Change the Instance Reference</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/05-00-fundamentals-of-binding-a-c-function/05-11-methods-that-destroy-the-instance-reference.html">5.11. Methods that Destroy the Instance Reference</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../bindings/writing-a-vapi-manually/06-00-adding-vala-friendly-semantics.html">6. Adding Vala Friendly Semantics</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of 6. Adding Vala Friendly Semantics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/06-00-adding-vala-friendly-semantics/06-01-to-string-methods.html">6.1. to_string () Methods</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/06-00-adding-vala-friendly-semantics/06-02-properties.html">6.2. Properties</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/06-00-adding-vala-friendly-semantics/06-03-collections.html">6.3. Collections</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../bindings/writing-a-vapi-manually/07-00-binding-a-c-function-s-parameter-and-return-types.html">7. Binding a C Function’s Parameter and Return Types</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of 7. Binding a C Function’s Parameter and Return Types</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/07-00-binding-a-c-function-s-parameter-and-return-types/07-01-basic-types.html">7.1. Basic Types</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/07-00-binding-a-c-function-s-parameter-and-return-types/07-02-structs.html">7.2. Structs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/07-00-binding-a-c-function-s-parameter-and-return-types/07-03-arrays.html">7.3. Arrays</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/07-00-binding-a-c-function-s-parameter-and-return-types/07-04-strings-and-buffers.html">7.4. Strings and Buffers</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/07-00-binding-a-c-function-s-parameter-and-return-types/07-05-function-pointers.html">7.5. Function Pointers</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/07-00-binding-a-c-function-s-parameter-and-return-types/07-06-parameters-of-variable-type-generics.html">7.6. Parameters of Variable Type (Generics)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/07-00-binding-a-c-function-s-parameter-and-return-types/07-07-pointers.html">7.7. Pointers</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../bindings/writing-a-vapi-manually/08-00-binding-a-c-struct-s-fields.html">8. Binding a C Struct’s Fields</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of 8. Binding a C Struct’s Fields</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/08-00-binding-a-c-struct-s-fields/08-01-structs.html">8.1. Structs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/08-00-binding-a-c-struct-s-fields/08-02-pointers-to-structs.html">8.2. Pointers to Structs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/08-00-binding-a-c-struct-s-fields/08-03-arrays.html">8.3. Arrays</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/08-00-binding-a-c-struct-s-fields/08-04-function-pointers.html">8.4. Function Pointers</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/08-00-binding-a-c-struct-s-fields/08-05-unions.html">8.5. Unions</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../bindings/writing-a-vapi-manually/09-00-extra-hints.html">9. Extra Hints</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../bindings/writing-a-vapi-manually/10-00-awkward-situations.html">10. Awkward Situations</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of 10. Awkward Situations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/10-00-awkward-situations/10-01-array-lengths.html">10.1. Array Lengths</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/10-00-awkward-situations/10-02-dependently-typed-ownership.html">10.2. Dependently Typed Ownership</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/10-00-awkward-situations/10-03-member-length.html">10.3. Member Length</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/10-00-awkward-situations/10-04-owned-array-of-unowned-objects.html">10.4. Owned Array of Unowned Objects</a></li>
<li class="toctree-l5"><a class="reference internal" href="../bindings/writing-a-vapi-manually/10-00-awkward-situations/10-05-shared-context-delgates.html">10.5. Shared Context Delegates</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../design-patterns.html">Design Patterns</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of Design Patterns</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="01-00-creational-design-patterns.html">1. Creational Design Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="02-00-structural-design-patterns.html">2. Structural Design Patterns</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">3. Behavioral Design Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="04-00-wrap-up.html">4. 🚦 Wrap Up Folks</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../documentation.html">Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../documentation/vala-for-csharp-devs.html">Vala for C# Programmers</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of Vala for C# Programmers</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/01-sources-files.html">Source Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/02-compilation.html">Compilation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/03-naming-conventions.html">Naming Conventions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/04-main-entry-point.html">Main Entry Point</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/05-system-namespace.html">System Namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/06-value-types.html">Value Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/07-verbatim-string-literals.html">Verbatim String Literals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/08-documentation-comments.html">Documentation Comments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/09-object-base-class.html">Object Base Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/10-method-overloading.html">Method Overloading</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/11-multiple-constructors.html">Multiple Constructors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/12-constructor-chaining.html">Constructor Chaining</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/13-delegates-lambdas.html">Delegates / Lambdas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/14-events.html">Events</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/15-interfaces.html">Interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/16-enums.html">Enums</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/17-struct-initialization.html">Struct Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/18-multi-dimensional-arrays.html">Multi-Dimensional Arrays</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/19-nullable-types.html">Nullable Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/20-code-attributes.html">Code Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/21-properties.html">Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/22-exceptions.html">Exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/23-argument-checking.html">Argument Checking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/24-unsafe-code-and-pointers.html">Unsafe Code and Pointers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/25-conditional-compilation-directives.html">Conditional Compilation Directives</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/26-resource-disposing.html">Resource Disposing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/27-memory-management.html">Memory Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/28-asynchronous-calls.html">Asynchronous Calls</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/29-static-constructors.html">Static Constructors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/30-external-methods.html">External Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/31-reflection.html">Reflection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/32-not-available.html">Not Available</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/33-collections.html">Collections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/34-indexers.html">Indexers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/35-io-network-sockets.html">IO, Network Sockets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/36-console-input-output.html">Console Input / Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/37-gtk-demo-app.html">GTK+ Demo App</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/vala-for-csharp-devs/38-bindings.html">Bindings</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../documentation/valadoc-guide.html">Valadoc Guide</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of Valadoc Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../documentation/valadoc-guide/01-00-quick-start.html">1. Quick Start</a></li>
<li class="toctree-l4"><a class="reference internal" href="../documentation/valadoc-guide/02-00-command-line-tool.html">2. Command Line Tool</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../documentation/valadoc-guide/03-00-documentation-comment-markup.html">3. Documentation Comment Markup</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of 3. Documentation Comment Markup</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../documentation/valadoc-guide/03-00-documentation-comment-markup/03-01-brief-description.html">3.1.1. Brief Description</a></li>
<li class="toctree-l5"><a class="reference internal" href="../documentation/valadoc-guide/03-00-documentation-comment-markup/03-02-formatting.html">3.1.2. Formatting</a></li>
<li class="toctree-l5"><a class="reference internal" href="../documentation/valadoc-guide/03-00-documentation-comment-markup/03-03-taglets.html">3.1.3. Taglets</a></li>
<li class="toctree-l5"><a class="reference internal" href="../documentation/valadoc-guide/03-00-documentation-comment-markup/03-04-contributing-to-valadoc.html">3.1.4. Contributing to Valadoc</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../gee-samples.html">Vala Collections: libgee</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle navigation of Vala Collections: libgee</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../gee-samples/01-list-sample.html">List Sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gee-samples/02-set-sample.html">Set Sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gee-samples/03-map-sample.html">Map Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gee-samples/04-syntactic-sugar.html">Syntactic Sugar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gee-samples/05-custom-equality.html">Customizing the equality function</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../plugins.html">Plugins</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle navigation of Plugins</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../plugins/01-type-modules.html">Type Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plugins/02-libpeas.html">Libpeas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../string-sample.html">String Sample</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
       <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/vala-lang/vala-docs/edit/main/source/developer-guides/design-patterns/03-00-behavioral-design-patterns.rst" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="behavioral-design-patterns">
<h1><span class="section-number">3. </span>Behavioral Design Patterns<a class="headerlink" href="#behavioral-design-patterns" title="Permalink to this heading">¶</a></h1>
<p>In plain words &gt; It is concerned with assignment of responsibilities
between the objects. What makes them different from structural patterns
is they don’t just specify the structure but also outline the patterns
for message passing/communication between them. Or in other words, they
assist in answering “How to run a behavior in software component?”</p>
<p>Wikipedia says &gt; In software engineering, behavioral design patterns are
design patterns that identify common communication patterns between
objects and realize these patterns. By doing so, these patterns increase
flexibility in carrying out this communication.</p>
<ul class="simple">
<li><p><a class="reference external" href="#chain-of-responsibility">Chain of Responsibility</a></p></li>
<li><p><a class="reference external" href="#command">Command</a></p></li>
<li><p><a class="reference external" href="#iterator">Iterator</a></p></li>
<li><p><a class="reference external" href="#mediator">Mediator</a></p></li>
<li><p><a class="reference external" href="#memento">Memento</a></p></li>
<li><p><a class="reference external" href="#observer">Observer</a></p></li>
<li><p><a class="reference external" href="#visitor">Visitor</a></p></li>
<li><p><a class="reference external" href="#strategy">Strategy</a></p></li>
<li><p><a class="reference external" href="#state">State</a></p></li>
<li><p><a class="reference external" href="#template-method">Template Method</a></p></li>
</ul>
<section id="chain-of-responsibility">
<span id="id1"></span><h2><span class="section-number">3.1. </span>🔗 Chain of Responsibility<a class="headerlink" href="#chain-of-responsibility" title="Permalink to this heading">¶</a></h2>
<p>Real world example &gt; For example, you have three payment methods (<code class="docutils literal notranslate"><span class="pre">A</span></code>,
<code class="docutils literal notranslate"><span class="pre">B</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code>) setup in your account; each having a different amount
in it. <code class="docutils literal notranslate"><span class="pre">A</span></code> has 100 USD, <code class="docutils literal notranslate"><span class="pre">B</span></code> has 300 USD and <code class="docutils literal notranslate"><span class="pre">C</span></code> having 1000 USD
and the preference for payments is chosen as <code class="docutils literal notranslate"><span class="pre">A</span></code> then <code class="docutils literal notranslate"><span class="pre">B</span></code> then
<code class="docutils literal notranslate"><span class="pre">C</span></code>. You try to purchase something that is worth 210 USD. Using Chain
of Responsibility, first of all account <code class="docutils literal notranslate"><span class="pre">A</span></code> will be checked if it can
make the purchase, if yes purchase will be made and the chain will be
broken. If not, request will move forward to account <code class="docutils literal notranslate"><span class="pre">B</span></code> checking for
amount if yes chain will be broken otherwise the request will keep
forwarding till it finds the suitable handler. Here <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code> and
<code class="docutils literal notranslate"><span class="pre">C</span></code> are links of the chain and the whole phenomenon is Chain of
Responsibility.</p>
<p>In plain words &gt; It helps building a chain of objects. Request enters
from one end and keeps going from object to object till it finds the
suitable handler.</p>
<p>Wikipedia says &gt; In object-oriented design, the chain-of-responsibility
pattern is a design pattern consisting of a source of command objects
and a series of processing objects. Each processing object contains
logic that defines the types of command objects that it can handle; the
rest are passed to the next processing object in the chain.</p>
<p><strong>Programmatic Example</strong></p>
<p>Translating our account example above. First of all we have a base
account having the logic for chaining the accounts together and some
accounts</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">errordomain</span><span class="w"> </span><span class="nc">OurError</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PAY_ERROR</span>
<span class="p">}</span>

<span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Account</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">Account</span><span class="o">?</span><span class="w"> </span><span class="n">successor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">null</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">balance</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">set_next</span><span class="w"> </span><span class="p">(</span><span class="n">Account</span><span class="w"> </span><span class="n">account</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">successor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">account</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">pay</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">ammount_to_pay</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">OurError</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">can_pay</span><span class="w"> </span><span class="p">(</span><span class="n">ammount_to_pay</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Paid %f using %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ammount_to_pay</span><span class="p">,</span><span class="w"> </span><span class="n">get_type</span><span class="w"> </span><span class="p">().</span><span class="n">name</span><span class="w"> </span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">successor</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Cannot pay using %s, Proceeding ..</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">get_type</span><span class="w"> </span><span class="p">().</span><span class="n">name</span><span class="w"> </span><span class="p">());</span>
<span class="w">            </span><span class="n">successor</span><span class="p">.</span><span class="n">pay</span><span class="w"> </span><span class="p">(</span><span class="n">ammount_to_pay</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OurError</span><span class="p">.</span><span class="n">PAY_ERROR</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;None of the accounts have enough balance&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">can_pay</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">ammount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">ammount</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Bank</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Account</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Bank</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">balance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">balance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">balance</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Paypal</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Account</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Paypal</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">balance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">balance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">balance</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Bitcoin</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Account</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Bitcoin</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">balance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">balance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">balance</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now let’s prepare the chain using the links defined above (i.e. Bank,
Paypal, Bitcoin)</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="c1">// Let&#39;s prepare a chain like below</span>
<span class="c1">//      $bank-&gt;$paypal-&gt;$bitcoin</span>
<span class="c1">//</span>
<span class="c1">// First priority bank</span>
<span class="c1">//      If bank can&#39;t pay then paypal</span>
<span class="c1">//      If paypal can&#39;t pay then bit coin</span>

<span class="kd">var</span><span class="w"> </span><span class="n">bank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Bank</span><span class="w"> </span><span class="p">(</span><span class="mi">100</span><span class="p">);</span><span class="w">       </span><span class="c1">// Bank with balance 100</span>
<span class="kd">var</span><span class="w"> </span><span class="n">paypal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Paypal</span><span class="w"> </span><span class="p">(</span><span class="mi">200</span><span class="p">);</span><span class="w">   </span><span class="c1">// Paypal with balance 200</span>
<span class="kd">var</span><span class="w"> </span><span class="n">bitcoin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Bitcoin</span><span class="w"> </span><span class="p">(</span><span class="mi">300</span><span class="p">);</span><span class="w"> </span><span class="c1">// Bitcoin with balance 300</span>

<span class="n">bank</span><span class="p">.</span><span class="n">set_next</span><span class="w"> </span><span class="p">(</span><span class="n">paypal</span><span class="p">);</span>
<span class="n">paypal</span><span class="p">.</span><span class="n">set_next</span><span class="w"> </span><span class="p">(</span><span class="n">bitcoin</span><span class="p">);</span>

<span class="c1">// Let&#39;s try to pay using the first priority i.e. bank</span>
<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">bank</span><span class="p">.</span><span class="n">pay</span><span class="w"> </span><span class="p">(</span><span class="mi">259</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">OurError</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">stderr</span><span class="p">.</span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">message</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Output will be</span>
<span class="c1">// ==============</span>
<span class="c1">// Cannot pay using bank. Proceeding ..</span>
<span class="c1">// Cannot pay using paypal. Proceeding ..:</span>
<span class="c1">// Paid 259 using Bitcoin!</span>
</pre></div>
</div>
</section>
<section id="command">
<span id="id2"></span><h2><span class="section-number">3.2. </span>👮 Command<a class="headerlink" href="#command" title="Permalink to this heading">¶</a></h2>
<p>Real world example &gt; A generic example would be you ordering a food at
restaurant. You (i.e. <code class="docutils literal notranslate"><span class="pre">Client</span></code>) ask the waiter (i.e. <code class="docutils literal notranslate"><span class="pre">Invoker</span></code>) to
bring some food (i.e. <code class="docutils literal notranslate"><span class="pre">Command</span></code>) and waiter simply forwards the
request to Chef (i.e. <code class="docutils literal notranslate"><span class="pre">Receiver</span></code>) who has the knowledge of what and
how to cook. &gt; Another example would be you (i.e. <code class="docutils literal notranslate"><span class="pre">Client</span></code>) switching
on (i.e. <code class="docutils literal notranslate"><span class="pre">Command</span></code>) the television (i.e. <code class="docutils literal notranslate"><span class="pre">Receiver</span></code>) using a remote
control (<code class="docutils literal notranslate"><span class="pre">Invoker</span></code>).</p>
<p>In plain words &gt; Allows you to encapsulate actions in objects. The key
idea behind this pattern is to provide the means to decouple client from
receiver.</p>
<p>Wikipedia says &gt; In object-oriented programming, the command pattern is
a behavioral design pattern in which an object is used to encapsulate
all information needed to perform an action or trigger an event at a
later time. This information includes the method name, the object that
owns the method and values for the method parameters.</p>
<p><strong>Programmatic Example</strong></p>
<p>First of all we have the receiver that has the implementation of every
action that could be performed</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="c1">// Receiver</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">Bulb</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">turn_on</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Bulb has been lit</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">turn_off</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Darkness!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>then we have an interface that each of the commands are going to
implement and then we have a set of commands</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span><span class="w"> </span><span class="nc">Command</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">undo</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">redo</span><span class="w"> </span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// Command</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">TurnOn</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Command</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">Bulb</span><span class="w"> </span><span class="n">bulb</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">TurnOn</span><span class="w"> </span><span class="p">(</span><span class="n">Bulb</span><span class="w"> </span><span class="n">bulb</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">bulb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bulb</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">bulb</span><span class="p">.</span><span class="n">turn_on</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">undo</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">bulb</span><span class="p">.</span><span class="n">turn_off</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">redo</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">execute</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">TurnOff</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Command</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">Bulb</span><span class="w"> </span><span class="n">bulb</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">TurnOff</span><span class="w"> </span><span class="p">(</span><span class="n">Bulb</span><span class="w"> </span><span class="n">bulb</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">bulb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bulb</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">bulb</span><span class="p">.</span><span class="n">turn_off</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">undo</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">bulb</span><span class="p">.</span><span class="n">turn_on</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">redo</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">execute</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then we have an <code class="docutils literal notranslate"><span class="pre">Invoker</span></code> with whom the client will interact to
process any commands</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="c1">// Invoker</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">RemoteControl</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">submit</span><span class="w"> </span><span class="p">(</span><span class="n">Command</span><span class="w"> </span><span class="n">command</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">command</span><span class="p">.</span><span class="n">execute</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Finally let’s see how we can use it in our client</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="n">bulb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Bulb</span><span class="w"> </span><span class="p">();</span>

<span class="kd">var</span><span class="w"> </span><span class="n">turn_on</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TurnOn</span><span class="w"> </span><span class="p">(</span><span class="n">bulb</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="n">turn_off</span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TurnOff</span><span class="w"> </span><span class="p">(</span><span class="n">bulb</span><span class="p">);</span>

<span class="kd">var</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RemoteControl</span><span class="w"> </span><span class="p">();</span>
<span class="n">remote</span><span class="p">.</span><span class="n">submit</span><span class="w"> </span><span class="p">(</span><span class="n">turn_on</span><span class="p">);</span><span class="w"> </span><span class="c1">// Bulb has been lit!</span>
<span class="n">remote</span><span class="p">.</span><span class="n">submit</span><span class="w"> </span><span class="p">(</span><span class="n">turn_off</span><span class="p">);</span><span class="w"> </span><span class="c1">// Darkness!</span>
</pre></div>
</div>
<p>Command pattern can also be used to implement a transaction based
system. Where you keep maintaining the history of commands as soon as
you execute them. If the final command is successfully executed, all
good otherwise just iterate through the history and keep executing the
<code class="docutils literal notranslate"><span class="pre">undo</span></code> on all the executed commands.</p>
</section>
<section id="iterator">
<span id="id3"></span><h2><span class="section-number">3.3. </span>➿ Iterator<a class="headerlink" href="#iterator" title="Permalink to this heading">¶</a></h2>
<p>Real world example &gt; An old radio set will be a good example of
iterator, where user could start at some channel and then use next or
previous buttons to go through the respective channels. Or take an
example of MP3 player or a TV set where you could press the next and
previous buttons to go through the consecutive channels or in other
words they all provide an interface to iterate through the respective
channels, songs or radio stations.</p>
<p>In plain words &gt; It presents a way to access the elements of an object
without exposing the underlying presentation.</p>
<p>Wikipedia says &gt; In object-oriented programming, the iterator pattern is
a design pattern in which an iterator is used to traverse a container
and access the container’s elements. The iterator pattern decouples
algorithms from containers; in some cases, algorithms are necessarily
container-specific and thus cannot be decoupled.</p>
<p><strong>Programmatic example</strong></p>
<p>In Vala we’ll use Libgee which implements collections and derivatives,
includind iterators. Translating our radio stations example from above.
First of all we have <code class="docutils literal notranslate"><span class="pre">RadioStation</span></code></p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">RadioStation</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">frequency</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">RadioStation</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">frequency</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">frequency</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">get_frequency</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">frequency</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then we have our iterator</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span>using Gee;

class StationList : Object, Traversable&lt;RadioStation&gt;, Iterable&lt;RadioStation&gt; {
    protected ArrayList&lt;RadioStation&gt; stations = new ArrayList&lt;RadioStation&gt; ();

    public void add_station (RadioStation station) {
        stations.add (station);
    }

    public bool remove_station (RadioStation to_remove) {
        foreach (RadioStation station in stations) {
            if (station.get_frequency () == to_remove.get_frequency ()) {
                stations.remove (station);
                return true;
            }
        }

        return false;
    }

    public int count () {
        return stations.size;
    }

    public Type element_type {
        get { return typeof (RadioStation); }
    }

    public bool @foreach (ForallFunc&lt;RadioStation&gt; f) {
        return iterator ().foreach (f);
    }

    public Iterator&lt;RadioStation&gt; iterator () {
        return stations.iterator ();
    }
}
</pre></div>
</div>
<p>And then it can be used as</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="n">station_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StationList</span><span class="w"> </span><span class="p">();</span>

<span class="n">station_list</span><span class="p">.</span><span class="n">add_station</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">RadioStation</span><span class="w"> </span><span class="p">(</span><span class="mf">89.0f</span><span class="p">));</span>
<span class="n">station_list</span><span class="p">.</span><span class="n">add_station</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">RadioStation</span><span class="w"> </span><span class="p">(</span><span class="mf">101.0f</span><span class="p">));</span>
<span class="n">station_list</span><span class="p">.</span><span class="n">add_station</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">RadioStation</span><span class="w"> </span><span class="p">(</span><span class="mf">102.0f</span><span class="p">));</span>
<span class="n">station_list</span><span class="p">.</span><span class="n">add_station</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">RadioStation</span><span class="w"> </span><span class="p">(</span><span class="mf">103.2f</span><span class="p">));</span>

<span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="n">RadioStation</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">station_list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">get_frequency</span><span class="w"> </span><span class="p">());</span>
<span class="p">}</span>

<span class="n">station_list</span><span class="p">.</span><span class="n">remove_station</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">RadioStation</span><span class="w"> </span><span class="p">(</span><span class="mf">89.0f</span><span class="p">));</span><span class="w"> </span><span class="c1">// Will remove station 89</span>
</pre></div>
</div>
</section>
<section id="mediator">
<span id="id4"></span><h2><span class="section-number">3.4. </span>👽 Mediator<a class="headerlink" href="#mediator" title="Permalink to this heading">¶</a></h2>
<p>Real world example &gt; A general example would be when you talk to someone
on your mobile phone, there is a network provider sitting between you
and them and your conversation goes through it instead of being directly
sent. In this case network provider is mediator.</p>
<p>In plain words &gt; Mediator pattern adds a third party object (called
mediator) to control the interaction between two objects (called
colleagues). It helps reduce the coupling between the classes
communicating with each other. Because now they don’t need to have the
knowledge of each other’s implementation.</p>
<p>Wikipedia says &gt; In software engineering, the mediator pattern defines
an object that encapsulates how a set of objects interact. This pattern
is considered to be a behavioral pattern due to the way it can alter the
program’s running behavior.</p>
<p><strong>Programmatic Example</strong></p>
<p>Here is the simplest example of a chat room (i.e. mediator) with users
(i.e. colleagues) sending messages to each other.</p>
<p>First of all, we have the mediator i.e. the chat room</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span><span class="w"> </span><span class="nc">ChatRoomMediator</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">show_message</span><span class="w"> </span><span class="p">(</span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">message</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Mediator</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ChatRoom</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Object</span><span class="p">,</span><span class="w"> </span><span class="n">ChatRoomMediator</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">show_message</span><span class="w"> </span><span class="p">(</span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">now_local</span><span class="w"> </span><span class="p">();</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">sender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">get_name</span><span class="w"> </span><span class="p">();</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%s [%s]:%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">time</span><span class="p">.</span><span class="n">to_string</span><span class="w"> </span><span class="p">(),</span><span class="w"> </span><span class="n">sender</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then we have our users i.e. colleagues</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">ChatRoomMediator</span><span class="w"> </span><span class="n">chat_mediator</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">ChatRoomMediator</span><span class="w"> </span><span class="n">chat_mediator</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">chat_mediator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chat_mediator</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">get_name</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">chat_mediator</span><span class="p">.</span><span class="n">show_message</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And the usage</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="n">mediator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ChatRoom</span><span class="w"> </span><span class="p">();</span>

<span class="kd">var</span><span class="w"> </span><span class="n">john</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;John Doe&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">mediator</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="n">jane</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Jane Dow&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">mediator</span><span class="p">);</span>

<span class="n">john</span><span class="p">.</span><span class="n">send</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Hi there!&quot;</span><span class="p">);</span>
<span class="n">jane</span><span class="p">.</span><span class="n">send</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Hey!&quot;</span><span class="p">);</span>

<span class="c1">// Output will be similar to</span>
<span class="c1">// Feb 14, 10:58 [John]: Hi there!</span>
<span class="c1">// Feb 14, 10:58 [Jane]: Hey!</span>
</pre></div>
</div>
</section>
<section id="memento">
<span id="id5"></span><h2><span class="section-number">3.5. </span>💾 Memento<a class="headerlink" href="#memento" title="Permalink to this heading">¶</a></h2>
<p>Real world example &gt; Take the example of calculator (i.e. originator),
where whenever you perform some calculation the last calculation is
saved in memory (i.e. memento) so that you can get back to it and maybe
get it restored using some action buttons (i.e. caretaker).</p>
<p>In plain words &gt; Memento pattern is about capturing and storing the
current state of an object in a manner that it can be restored later on
in a smooth manner.</p>
<p>Wikipedia says &gt; The memento pattern is a software design pattern that
provides the ability to restore an object to its previous state (undo
via rollback).</p>
<p>Usually useful when you need to provide some sort of undo functionality.</p>
<p><strong>Programmatic Example</strong></p>
<p>Lets take an example of text editor which keeps saving the state from
time to time and that you can restore if you want.</p>
<p>First of all we have our memento object that will be able to hold the
editor state</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">EditorMemento</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">content</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">EditorMemento</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">content</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">content</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">get_content</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">content</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then we have our editor i.e. originator that is going to use memento
object</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">Editor</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">words</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">words</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">get_content</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">content</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">EditorMemento</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">EditorMemento</span><span class="w"> </span><span class="p">(</span><span class="n">content</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">restore</span><span class="w"> </span><span class="p">(</span><span class="n">EditorMemento</span><span class="w"> </span><span class="n">memento</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">memento</span><span class="p">.</span><span class="n">get_content</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And then it can be used as</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="n">editor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Editor</span><span class="w"> </span><span class="p">();</span>

<span class="c1">// Type some stuff</span>
<span class="n">editor</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;This is the first sentence.&quot;</span><span class="p">);</span>
<span class="n">editor</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;This is second.&quot;</span><span class="p">);</span>

<span class="c1">// Save the state to restore to : This is the first sentence. This is second.</span>
<span class="kd">var</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">editor</span><span class="p">.</span><span class="n">save</span><span class="w"> </span><span class="p">();</span>

<span class="c1">// Type some more</span>
<span class="n">editor</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;And this is third.&quot;</span><span class="p">);</span>

<span class="c1">// Output: Content before Saving</span>
<span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">editor</span><span class="p">.</span><span class="n">get_content</span><span class="w"> </span><span class="p">());</span>

<span class="c1">// Restoring to last saved state</span>
<span class="n">editor</span><span class="p">.</span><span class="n">restore</span><span class="w"> </span><span class="p">(</span><span class="n">saved</span><span class="p">);</span>

<span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">editor</span><span class="p">.</span><span class="n">get_content</span><span class="w"> </span><span class="p">());</span>
</pre></div>
</div>
</section>
<section id="observer">
<span id="id6"></span><h2><span class="section-number">3.6. </span>😎 Observer<a class="headerlink" href="#observer" title="Permalink to this heading">¶</a></h2>
<p>Real world example &gt; A good example would be the job seekers where they
subscribe to some job posting site and they are notified whenever there
is a matching job opportunity.</p>
<p>In plain words &gt; Defines a dependency between objects so that whenever
an object changes its state, all its dependents are notified.</p>
<p>Wikipedia says &gt; The observer pattern is a software design pattern in
which an object, called the subject, maintains a list of its dependents,
called observers, and notifies them automatically of any state changes,
usually by calling one of their methods.</p>
<p><strong>Programmatic example</strong></p>
<p>Translating our example from above. First of all we have job seekers
that need to be notified for a job posting</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span><span class="w"> </span><span class="nc">Observer</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>

<span class="kd">interface</span><span class="w"> </span><span class="nc">Observable</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">JobPost</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">JobPost</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">title</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">get_title</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">JobSeeker</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Object</span><span class="p">,</span><span class="w"> </span><span class="n">Observer</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">JobSeeker</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">on_job_posted</span><span class="w"> </span><span class="p">(</span><span class="n">JobPost</span><span class="w"> </span><span class="n">job</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Do something with the job posting</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Hi %s! New job posted: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">job</span><span class="p">.</span><span class="n">get_title</span><span class="w"> </span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then we have our job postings to which the job seekers will subscribe</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">JobPostings</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Observable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Observer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Observer</span><span class="o">&gt;</span><span class="w"> </span><span class="p">();</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">notify</span><span class="w"> </span><span class="p">(</span><span class="n">JobPost</span><span class="w"> </span><span class="n">job_posting</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="n">Observer</span><span class="w"> </span><span class="n">observer</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">observers</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">((</span><span class="n">JobSeeker</span><span class="p">)</span><span class="w"> </span><span class="n">observer</span><span class="p">).</span><span class="n">on_job_posted</span><span class="w"> </span><span class="p">(</span><span class="n">job_posting</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">attach</span><span class="w"> </span><span class="p">(</span><span class="n">Observer</span><span class="w"> </span><span class="n">observer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">observers</span><span class="p">.</span><span class="n">add</span><span class="w"> </span><span class="p">(</span><span class="n">observer</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">add_job</span><span class="w"> </span><span class="p">(</span><span class="n">JobPost</span><span class="w"> </span><span class="n">job_posting</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">notify</span><span class="w"> </span><span class="p">(</span><span class="n">job_posting</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then it can be used as</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create subscribers</span>
<span class="kd">var</span><span class="w"> </span><span class="n">john_doe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JobSeeker</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;John Doe&quot;</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="n">jane_doe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JobSeeker</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Jane Doe&quot;</span><span class="p">);</span>

<span class="c1">// Create publisher and attach subscribers</span>
<span class="kd">var</span><span class="w"> </span><span class="n">job_postings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JobPostings</span><span class="w"> </span><span class="p">();</span>
<span class="n">job_postings</span><span class="p">.</span><span class="n">attach</span><span class="w"> </span><span class="p">(</span><span class="n">john_doe</span><span class="p">);</span>
<span class="n">job_postings</span><span class="p">.</span><span class="n">attach</span><span class="w"> </span><span class="p">(</span><span class="n">jane_doe</span><span class="p">);</span>

<span class="c1">// Add a new job and see if subscribers get notified</span>
<span class="n">job_postings</span><span class="p">.</span><span class="n">add_job</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">JobPost</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Software Engineer&quot;</span><span class="p">));</span>

<span class="c1">// Output</span>
<span class="c1">// Hi John Doe! New job posted: Software Engineer</span>
<span class="c1">// Hi Jane Doe! New job posted: Software Engineer</span>
</pre></div>
</div>
</section>
<section id="visitor">
<span id="id7"></span><h2><span class="section-number">3.7. </span>🏃 Visitor<a class="headerlink" href="#visitor" title="Permalink to this heading">¶</a></h2>
<p>Real world example &gt; Consider someone visiting Dubai. They just need a
way (i.e. visa) to enter Dubai. After arrival, they can come and visit
any place in Dubai on their own without having to ask for permission or
to do some leg work in order to visit any place here; just let them know
of a place and they can visit it. Visitor pattern lets you do just that,
it helps you add places to visit so that they can visit as much as they
can without having to do any legwork.</p>
<p>In plain words &gt; Visitor pattern lets you add further operations to
objects without having to modify them.</p>
<p>Wikipedia says &gt; In object-oriented programming and software
engineering, the visitor design pattern is a way of separating an
algorithm from an object structure on which it operates. A practical
result of this separation is the ability to add new operations to
existing object structures without modifying those structures. It is one
way to follow the open/closed principle.</p>
<p><strong>Programmatic example</strong></p>
<p>Let’s take an example of a zoo simulation where we have several
different kinds of animals and we have to make them Sound. Let’s
translate this using visitor pattern</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="c1">// Visitee</span>
<span class="kd">interface</span><span class="w"> </span><span class="nc">Animal</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">AnimalOperation</span><span class="w"> </span><span class="n">operation</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Visitor</span>
<span class="kd">interface</span><span class="w"> </span><span class="nc">AnimalOperation</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">visit_monkey</span><span class="w"> </span><span class="p">(</span><span class="n">Monkey</span><span class="w"> </span><span class="n">monkey</span><span class="p">);</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">visit_lion</span><span class="w"> </span><span class="p">(</span><span class="n">Lion</span><span class="w"> </span><span class="n">lion</span><span class="p">);</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">visit_dolphin</span><span class="w"> </span><span class="p">(</span><span class="n">Dolphin</span><span class="w"> </span><span class="n">dolphin</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then we have our implementations for the animals</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">Monkey</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Animal</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">shout</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Ooh oo aa aa!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">AnimalOperation</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">operation</span><span class="p">.</span><span class="n">visit_monkey</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Lion</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Animal</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">roar</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Roaaar !</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">AnimalOperation</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">operation</span><span class="p">.</span><span class="n">visit_lion</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Dolphin</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Animal</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">speak</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Tuut tuttu tuutt!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">AnimalOperation</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">operation</span><span class="p">.</span><span class="n">visit_dolphin</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Let’s implement our visitor</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">Speak</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">AnimalOperation</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">visit_monkey</span><span class="w"> </span><span class="p">(</span><span class="n">Monkey</span><span class="w"> </span><span class="n">monkey</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">monkey</span><span class="p">.</span><span class="n">shout</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">visit_lion</span><span class="w"> </span><span class="p">(</span><span class="n">Lion</span><span class="w"> </span><span class="n">lion</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">lion</span><span class="p">.</span><span class="n">roar</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">visit_dolphin</span><span class="w"> </span><span class="p">(</span><span class="n">Dolphin</span><span class="w"> </span><span class="n">dolphin</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">dolphin</span><span class="p">.</span><span class="n">speak</span><span class="w"> </span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And then it can be used as</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="n">monkey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Monkey</span><span class="w"> </span><span class="p">();</span>
<span class="kd">var</span><span class="w"> </span><span class="n">lion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Lion</span><span class="w"> </span><span class="p">();</span>
<span class="kd">var</span><span class="w"> </span><span class="n">dolphin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Dolphin</span><span class="w"> </span><span class="p">();</span>

<span class="kd">var</span><span class="w"> </span><span class="n">speak</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Speak</span><span class="w"> </span><span class="p">();</span>

<span class="n">monkey</span><span class="p">.</span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">speak</span><span class="p">);</span><span class="w">  </span><span class="c1">// Ooh oo aa aa!</span>
<span class="n">lion</span><span class="p">.</span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">speak</span><span class="p">);</span><span class="w">    </span><span class="c1">// Roaaar!</span>
<span class="n">dolphin</span><span class="p">.</span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">speak</span><span class="p">);</span><span class="w"> </span><span class="c1">// Tuut tutt tuutt!</span>
</pre></div>
</div>
<p>We could have done this simply by having a inheritance hierarchy for the
animals but then we would have to modify the animals whenever we would
have to add new actions to animals. But now we will not have to change
them. For example, let’s say we are asked to add the jump behavior to
the animals, we can simply add that by creating a new visitor i.e.</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">Jump</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">AnimalOperation</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">visit_monkey</span><span class="w"> </span><span class="p">(</span><span class="n">Monkey</span><span class="w"> </span><span class="n">monkey</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Jumped 20 feet high! on to the tree!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">visit_lion</span><span class="w"> </span><span class="p">(</span><span class="n">Lion</span><span class="w"> </span><span class="n">lion</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Jumped 7 feet! Back on the ground!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">visit_dolphin</span><span class="w"> </span><span class="p">(</span><span class="n">Dolphin</span><span class="w"> </span><span class="n">dolphin</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Walked on water a little and disappeared</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And for the usage</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Jump</span><span class="w"> </span><span class="p">();</span>

<span class="n">monkey</span><span class="p">.</span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">speak</span><span class="p">);</span><span class="w">  </span><span class="c1">// Ooh oo aa aa!</span>
<span class="n">monkey</span><span class="p">.</span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">jump</span><span class="p">);</span><span class="w">   </span><span class="c1">// Jumped 20 feet high! on to the tree!</span>


<span class="n">lion</span><span class="p">.</span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">speak</span><span class="p">);</span><span class="w">    </span><span class="c1">// Roaaar!</span>
<span class="n">lion</span><span class="p">.</span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">jump</span><span class="p">);</span><span class="w">     </span><span class="c1">// Jumped 7 feet! Back on the ground!</span>

<span class="n">dolphin</span><span class="p">.</span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">speak</span><span class="p">);</span><span class="w"> </span><span class="c1">// Tuut tutt tuutt!</span>
<span class="n">dolphin</span><span class="p">.</span><span class="n">accept</span><span class="w"> </span><span class="p">(</span><span class="n">jump</span><span class="p">);</span><span class="w">  </span><span class="c1">// Walked on water a little and disappeared</span>
</pre></div>
</div>
</section>
<section id="strategy">
<span id="id8"></span><h2><span class="section-number">3.8. </span>💡 Strategy<a class="headerlink" href="#strategy" title="Permalink to this heading">¶</a></h2>
<p>Real world example &gt; Consider the example of sorting, we implemented
bubble sort but the data started to grow and bubble sort started getting
very slow. In order to tackle this we implemented Quick sort. But now
although the quick sort algorithm was doing better for large datasets,
it was very slow for smaller datasets. In order to handle this we
implemented a strategy where for small datasets, bubble sort will be
used and for larger, quick sort.</p>
<p>In plain words &gt; Strategy pattern allows you to switch the algorithm or
strategy based upon the situation.</p>
<p>Wikipedia says &gt; In computer programming, the strategy pattern (also
known as the policy pattern) is a behavioural software design pattern
that enables an algorithm’s behavior to be selected at runtime.</p>
<p><strong>Programmatic example</strong></p>
<p>Translating our example from above. First of all we have our strategy
interface and different strategy implementations</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span><span class="w"> </span><span class="nc">SortStrategy</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">int</span><span class="p">[]</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span><span class="w"> </span><span class="n">dataset</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">BubbleSortStrategy</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Object</span><span class="p">,</span><span class="w"> </span><span class="n">SortStrategy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="p">[]</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span><span class="w"> </span><span class="n">dataset</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Sorting using bubble sort</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="c1">//do sorting</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">dataset</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">QuickSortStrategy</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Object</span><span class="p">,</span><span class="w"> </span><span class="n">SortStrategy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="p">[]</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span><span class="w"> </span><span class="n">dataset</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Sorting using quick sort</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="c1">//do sorting</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">dataset</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And then we have our client that is going to use any strategy</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">Sorter</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">SortStrategy</span><span class="w"> </span><span class="n">sorter</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Sorter</span><span class="w"> </span><span class="p">(</span><span class="n">SortStrategy</span><span class="w"> </span><span class="n">sorter</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">sorter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sorter</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="p">[]</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span><span class="w"> </span><span class="n">dataset</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">sorter</span><span class="p">.</span><span class="n">sort</span><span class="w"> </span><span class="p">(</span><span class="n">dataset</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And it can be used as</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="p">[]</span><span class="w"> </span><span class="n">dataset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">};</span>

<span class="kd">var</span><span class="w"> </span><span class="n">sorter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Sorter</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BubbleSortStrategy</span><span class="w"> </span><span class="p">());</span>
<span class="n">sorter</span><span class="p">.</span><span class="n">sort</span><span class="w"> </span><span class="p">(</span><span class="n">dataset</span><span class="p">);</span><span class="w"> </span><span class="c1">// output : sorting using bubble sort</span>


<span class="n">sorter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Sorter</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">QuickSortStrategy</span><span class="w"> </span><span class="p">());</span>
<span class="n">sorter</span><span class="p">.</span><span class="n">sort</span><span class="w"> </span><span class="p">(</span><span class="n">dataset</span><span class="p">);</span><span class="w"> </span><span class="c1">// Output : Sorting using quick sort</span>
</pre></div>
</div>
</section>
<section id="state">
<span id="id9"></span><h2><span class="section-number">3.9. </span>💢 State<a class="headerlink" href="#state" title="Permalink to this heading">¶</a></h2>
<p>Real world example &gt; Imagine you are using some drawing application, you
choose the paint brush to draw. Now the brush changes its behavior based
on the selected color i.e. if you have chosen red color it will draw in
red, if blue then it will be in blue etc.</p>
<p>In plain words &gt; It lets you change the behavior of a class when the
state changes.</p>
<p>Wikipedia says &gt; The state pattern is a behavioral software design
pattern that implements a state machine in an object-oriented way. With
the state pattern, a state machine is implemented by implementing each
individual state as a derived class of the state pattern interface, and
implementing state transitions by invoking methods defined by the
pattern’s superclass. &gt; The state pattern can be interpreted as a
strategy pattern which is able to switch the current strategy through
invocations of methods defined in the pattern’s interface.</p>
<p><strong>Programmatic example</strong></p>
<p>Let’s take an example of text editor, it lets you change the state of
text that is typed i.e. if you have selected bold, it starts writing in
bold, if italic then in italics etc.</p>
<p>First of all we have our state interface and some state implementations</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">interface</span><span class="w"> </span><span class="nc">WritingState</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">words</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">UpperCase</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Object</span><span class="p">,</span><span class="w"> </span><span class="n">WritingState</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">words</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">words</span><span class="p">.</span><span class="n">up</span><span class="w"> </span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">LowerCase</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Object</span><span class="p">,</span><span class="w"> </span><span class="n">WritingState</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">words</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">words</span><span class="p">.</span><span class="n">down</span><span class="w"> </span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>


<span class="kd">class</span><span class="w"> </span><span class="nc">Default</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Object</span><span class="p">,</span><span class="w"> </span><span class="n">WritingState</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">words</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">words</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then we have our editor</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">TextEditor</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">WritingState</span><span class="w"> </span><span class="n">state</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">TextEditor</span><span class="w"> </span><span class="p">(</span><span class="n">WritingState</span><span class="w"> </span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">set_state</span><span class="w"> </span><span class="p">(</span><span class="n">WritingState</span><span class="w"> </span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">words</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">state</span><span class="p">.</span><span class="n">write</span><span class="w"> </span><span class="p">(</span><span class="n">words</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And then it can be used as</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="n">editor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TextEditor</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Default</span><span class="w"> </span><span class="p">());</span>

<span class="n">editor</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;First line&quot;</span><span class="p">);</span>

<span class="n">editor</span><span class="p">.</span><span class="n">set_state</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">UpperCase</span><span class="w"> </span><span class="p">());</span>

<span class="n">editor</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Second line&quot;</span><span class="p">);</span>
<span class="n">editor</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Third line&quot;</span><span class="p">);</span>

<span class="n">editor</span><span class="p">.</span><span class="n">set_state</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">LowerCase</span><span class="w"> </span><span class="p">());</span>
<span class="n">editor</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Fourth line&quot;</span><span class="p">);</span>
<span class="n">editor</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Fifth line&quot;</span><span class="p">);</span>

<span class="c1">// Output:</span>
<span class="c1">// First line</span>
<span class="c1">// SECOND LINE</span>
<span class="c1">// THIRD LINE</span>
<span class="c1">// fourth line</span>
<span class="c1">// fifth line</span>
</pre></div>
</div>
</section>
<section id="template-method">
<span id="id10"></span><h2><span class="section-number">3.10. </span>📒 Template Method<a class="headerlink" href="#template-method" title="Permalink to this heading">¶</a></h2>
<p>Real world example &gt; Suppose we are getting some house built. The steps
for building might look like &gt; - Prepare the base of house &gt; - Build the
walls &gt; - Add roof &gt; - Add other floors</p>
<blockquote>
<div><p>The order of these steps could never be changed i.e. you can’t build
the roof before building the walls etc but each of the steps could be
modified for example walls can be made of wood or polyester or stone.</p>
</div></blockquote>
<p>In plain words &gt; Template method defines the skeleton of how a certain
algorithm could be performed, but defers the implementation of those
steps to the children classes.</p>
<p>Wikipedia says &gt; In software engineering, the template method pattern is
a behavioral design pattern that defines the program skeleton of an
algorithm in an operation, deferring some steps to subclasses. It lets
one redefine certain steps of an algorithm without changing the
algorithm’s structure.</p>
<p><strong>Programmatic Example</strong></p>
<p>Imagine we have a build tool that helps us test, lint, build, generate
build reports (i.e. code coverage reports, linting report etc) and
deploy our app on the test server.</p>
<p>First of all we have our base class that specifies the skeleton for the
build algorithm</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Builder</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// Template method</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">build</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">test</span><span class="p">();</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">lint</span><span class="p">();</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">assemble</span><span class="p">();</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">deploy</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">test</span><span class="p">();</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">lint</span><span class="p">();</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">assemble</span><span class="p">();</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">deploy</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then we can have our implementations</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">AndroidBuilder</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Builder</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">override</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">test</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Running android tests</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">override</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">lint</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Linting the android code</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">override</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">assemble</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Assembling the android build</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">override</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">deploy</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Deploying android build to server</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">IosBuilder</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Builder</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">override</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">test</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Running ios tests</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">override</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">lint</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Linting the ios code</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">override</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">assemble</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Assembling the ios build</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">override</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">deploy</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Deploying ios build to server</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And then it can be used as</p>
<div class="highlight-vala notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="n">android_builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AndroidBuilder</span><span class="p">();</span>
<span class="n">android_builder</span><span class="p">.</span><span class="n">build</span><span class="w"> </span><span class="p">();</span>

<span class="c1">// Output:</span>
<span class="c1">// Running android tests</span>
<span class="c1">// Linting the android code</span>
<span class="c1">// Assembling the android build</span>
<span class="c1">// Deploying android build to server</span>

<span class="kd">var</span><span class="w"> </span><span class="n">ios_builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IosBuilder</span><span class="w"> </span><span class="p">();</span>
<span class="n">ios_builder</span><span class="p">.</span><span class="n">build</span><span class="w"> </span><span class="p">();</span>

<span class="c1">// Output:</span>
<span class="c1">// Running ios tests</span>
<span class="c1">// Linting the ios code</span>
<span class="c1">// Assembling the ios build</span>
<span class="c1">// Deploying ios build to server</span>
</pre></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="04-00-wrap-up.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">4. </span>🚦 Wrap Up Folks</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="02-00-structural-design-patterns.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">2. </span>Structural Design Patterns</div>
                
              </div>
            </a>
        </div>
      
      </footer>

    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">3. Behavioral Design Patterns</a><ul>
<li><a class="reference internal" href="#chain-of-responsibility">3.1. 🔗 Chain of Responsibility</a></li>
<li><a class="reference internal" href="#command">3.2. 👮 Command</a></li>
<li><a class="reference internal" href="#iterator">3.3. ➿ Iterator</a></li>
<li><a class="reference internal" href="#mediator">3.4. 👽 Mediator</a></li>
<li><a class="reference internal" href="#memento">3.5. 💾 Memento</a></li>
<li><a class="reference internal" href="#observer">3.6. 😎 Observer</a></li>
<li><a class="reference internal" href="#visitor">3.7. 🏃 Visitor</a></li>
<li><a class="reference internal" href="#strategy">3.8. 💡 Strategy</a></li>
<li><a class="reference internal" href="#state">3.9. 💢 State</a></li>
<li><a class="reference internal" href="#template-method">3.10. 📒 Template Method</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    </body>
</html>